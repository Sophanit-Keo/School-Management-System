<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inbox - EduPortal</title>
    <link rel="stylesheet" href="../shared/css/reset.css">
    <link rel="stylesheet" href="../shared/css/typography.css">
    <link rel="stylesheet" href="../shared/css/components.css">
    <link rel="stylesheet" href="../shared/css/layout.css">
    <link rel="stylesheet" href="css/communication.css">
</head>
<body>
    <div class="communication-layout">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">EP</div>
                <h3>EduPortal</h3>
                <span class="role-badge" id="userRole">User</span>
            </div>
            
            <ul class="sidebar-menu" id="sidebarMenu">
                <!-- Menu items will be populated by JavaScript based on user role -->
            </ul>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <div>
                    <h1>Inbox</h1>
                    <p class="text-gray-600">Messages and notifications</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="composeMessage()">Compose</button>
                </div>
            </header>
            
            <!-- Message Categories -->
            <div class="message-categories">
                <button class="category-btn active" data-category="all">All Messages</button>
                <button class="category-btn" data-category="unread">Unread (3)</button>
                <button class="category-btn" data-category="sent">Sent</button>
                <button class="category-btn" data-category="archived">Archived</button>
            </div>
            
            <!-- Messages List -->
            <div class="messages-container">
                <div class="messages-list">
                    <div class="message-item unread">
                        <div class="message-avatar">
                            <img src="https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Teacher">
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <h4>Mrs. Johnson</h4>
                                <span class="message-time">2 hours ago</span>
                            </div>
                            <h5>Parent-Teacher Conference Reminder</h5>
                            <p>Dear parents, this is a reminder about the upcoming parent-teacher conference scheduled for next week...</p>
                        </div>
                        <div class="message-actions">
                            <button class="btn-icon">‚≠ê</button>
                            <button class="btn-icon">üóëÔ∏è</button>
                        </div>
                    </div>
                    
                    <div class="message-item">
                        <div class="message-avatar">
                            <img src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Admin">
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <h4>School Administration</h4>
                                <span class="message-time">1 day ago</span>
                            </div>
                            <h5>Winter Break Schedule</h5>
                            <p>Please note the updated winter break schedule. Classes will resume on January 8th, 2024...</p>
                        </div>
                        <div class="message-actions">
                            <button class="btn-icon">‚≠ê</button>
                            <button class="btn-icon">üóëÔ∏è</button>
                        </div>
                    </div>
                    
                    <div class="message-item">
                        <div class="message-avatar">
                            <img src="https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" alt="Teacher">
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <h4>Mr. Chen</h4>
                                <span class="message-time">2 days ago</span>
                            </div>
                            <h5>Assignment Feedback</h5>
                            <p>Great work on the recent essay! I've provided detailed feedback and suggestions for improvement...</p>
                        </div>
                        <div class="message-actions">
                            <button class="btn-icon starred">‚≠ê</button>
                            <button class="btn-icon">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Compose Modal -->
    <div id="composeModal" class="modal-overlay">
        <div class="modal large">
            <div class="modal-header">
                <h3>Compose Message</h3>
                <button class="modal-close" onclick="closeComposeModal()">&times;</button>
            </div>
            
            <form id="composeForm">
                <div class="form-group">
                    <label class="form-label">To</label>
                    <select class="form-select" name="recipient" required>
                        <option value="">Select Recipient</option>
                        <option value="all-teachers">All Teachers</option>
                        <option value="all-parents">All Parents</option>
                        <option value="all-students">All Students</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Subject</label>
                    <input type="text" class="form-input" name="subject" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Message</label>
                    <textarea class="form-textarea" name="message" rows="8" required></textarea>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeComposeModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>